var ApiReady,deb,debug,handleVidClick,renderVids,resetSR,resetSearch,searchError,searchResponse,searchYt;debug=!0,deb=function(e){return debug?console.log("DEBUG ----> "+e):void 0},ApiReady=function(){deb("Loaded API"),gapi.client.setApiKey("AIzaSyAngQLuWEimoRzJnNDOaaI8Ip6NJHEmj_0"),gapi.client.load("youtube","v3",function(){return deb("Loaded YouTube V3"),searchYt("")})},resetSR=function(){return window.SR=[],SR.results=[],SR.nextToken=[],SR.prevToken=[],SR.curPage=1,SR.query=""},resetSearch=function(){$("#searchOutput").empty(),SR.results=[]},searchError=function(e){switch(e){case"firstPage":return deb("Error, on first page of search")}},searchYt=function(e,r){var t,i;switch(null==r&&(r=!1),deb("Beginning search of "+e),i="",r){case"next":i=SR.nextToken,SR.curPage+=1;break;case"prev":if(i=SR.prevToken,1===SR.curPage)return searchError("firstPage"),void 0;SR.curPage-=1;break;default:resetSR()}t=gapi.client.youtube.search.list({q:e,part:"snippet",videoCategoryId:"10",type:"video",pageToken:i,order:"viewCount",maxResults:7}),t.execute(searchResponse)},searchResponse=function(e){var r,t,i,n,s,a,o,d,c,u,p;console.log(e),resetSearch();try{for(a=e.items,u=0,p=a.length;p>u;u++)s=a[u],d=s.snippet.title,t=s.snippet.description,o=s.snippet.thumbnails,n=s.id.videoId,c={title:d,description:t,id:n,thumbs:o},SR.results.push(c);r=SR.results,deb("Current SR: "+r),renderVids(),SR.nextToken=e.nextPageToken,"prevPageToken"in e&&(SR.prevToken=e.prevPageToken)}catch(l){i=l,console.log(i),deb("No results found.")}},renderVids=function(){var e,r,t,i,n,s,a,o,d,c,u;for(u=SR.results,d=0,c=u.length;c>d;d++)o=u[d],t=$("<div/>",{"class":"videoDiv"}),s=$("<div/>",{"class":"videoTextWrapper"}),n=$("<b/>",{"class":"text-info videoTitle"}),r=$("<div/>",{"class":"videoDescription",html:o.description}),i=$("<div/>",{"class":"videoOverlayWrap",html:"<img src='"+o.thumbs.medium.url+"' class='img-rounded videoThumb'></img>"}),a=$("<div/>",{"class":"videoOverlay"}),e=$("<a/>",{href:"#",onclick:"handleVidClick('"+o.id+"');",text:""+o.title}),$(e).appendTo(n),$(a).html('<span class="videoOverlayPlus"><a href="#">+</a></span>').appendTo(i),$(n).appendTo(s),$(r).appendTo(s),$(s).appendTo(t),$(i).prependTo(t),$(t).appendTo("#searchOutput");$("#searchPage").text("Page "+SR.curPage)},handleVidClick=function(e){return deb("Click : load video with ID: "+e),player.loadVideoById(""+e)};